{% extends 'base.html' %}
{% load static %}

{% if userName %}
{% block title %} 소환사 : {{ userName }} {% endblock title %}
{% endif %} 

{% block css_link %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
<link rel="stylesheet" href="{% static 'css/summoner.css' %}">
{% endblock css_link %}

{%block content%}
<div class="container-fluid">

    <!-- search box -->
    <div class="serach-box">
        <form class="search-form" action = "/summoner/" method="get" autocomplete="off">
            {% csrf_token %}
            <div class="input-group input-group-sm mb-3 summoner-search-box">
                <span class="input-group-text" id="inputGroup-sizing-default">소환사명</span>
                <input type="text" name="userName" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" autocomplete="off">
                <button type="submit" class="btn btn-outline-secondary btn-sm">
                    <img src="{% static 'images/search-icon.png' %}" class="search-icon">
                </button>
            </div>
        </form>
    </div>
    <!-- search box end -->

{% if isValid %} <!-- 소환사 정보가 존재하면 -->

    <!--소환사 정보 Start-->


    <!-- solo-rank info / free-rank info -->
    <div class="rank-info my-5">
        <div class="rank-wrap">
            <div class="rank-box solo-rank">
                <p class="text-center my-2 fs-5">솔로랭크</p>
                <p class="text-center my-4 fs-3 tier-name">{{ tier.solo.tier }} {{ tier.solo.rank }}</p>
                <!--image-->
                <div class="WinLose">
                    <span class="soloWin">{{ tier.solo.wins }}승</span>
                    <span class="soloLose">{{ tier.solo.losses}}패</span>
                    <span class="soloWinRatio">/ </span>
                </div>
            </div>
            <div class="rank-box free-rank">
                <p class="text-center my-2 fs-5">자유 5:5 랭크</p>
                <p class="text-center my-4 fs-3 tier-name">{{ tier.free.tier }} {{ tier.free.rank }}</p>
                <!--image-->
                <div class="WinLose">
                    <span class="freeWin">{{ tier.free.wins }}승</span>
                    <span class="freeLose">{{ tier.free.losses}}패</span>
                    <span class="freeWinRatio">/ </span>
                </div>
            </div>
        </div>
    </div>
    <!-- rank-info end -->
    <!--소환사 정보 End-->

{% else %} <!--소환사 이름이 존재 X(Error)-->
    <!--Error Start-->
    <div class="error-box alert alert-danger align-text-top" role="alert">
        <h1>소환사 '{{ userName }}'에 대한 정보가 존재하지 않습니다!</h1>
    </div>
    <div class="error-img">
        <img class="rounded mx-auto d-block" src="{% static 'images/not_found.png' %}" alt="not_found">
    </div>

    <div class="empty"></div>
    
    <!--Error End-->
{% endif %}
</div>
{%endblock%}

{% block script %}
<script type="text/javascript" src="{% static 'js/summnoer.js' %}"></script>
{% endblock script %}